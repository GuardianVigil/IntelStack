{% extends 'components/layouts/default.html' %}
{% load static %}

{% block content %}

<div>

    <div class="pt-5">
        <div class="grid grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 gap-5 mb-5">
            <div class="panel">
                <div class="flex items-center justify-between mb-5">
                    <h5 class="font-semibold text-lg dark:text-white-light">Profile</h5>

                </div>
                <div class="mb-5">
                    <div class="flex flex-col justify-center items-center">
                        <img src="{% static 'assets/images/user-profile.jpeg' %}" alt="image" class="w-24 h-24 rounded-full object-cover  mb-5" />
                        <p class="font-semibold text-primary text-xl">{{ request.user.username }}</p>
                    </div>
                    <ul class="mt-5 flex flex-col max-w-[160px] m-auto space-y-4 font-semibold text-white-dark">

                        <li>
                            <a href="javascript:;" class="flex items-center gap-2">

                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0">
                                    <path opacity="0.5" d="M2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12C22 15.7712 22 17.6569 20.8284 18.8284C19.6569 20 17.7712 20 14 20H10C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12Z" stroke="currentColor" stroke-width="1.5" />
                                    <path d="M6 8L8.1589 9.79908C9.99553 11.3296 10.9139 12.0949 12 12.0949C13.0861 12.0949 14.0045 11.3296 15.8411 9.79908L18 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                </svg>
                                <span class="text-primary truncate">{{ request.user.email }}</span></a>
                        </li>

                    </ul>

                </div>
            </div>
            <div class="panel lg:col-span-2 xl:col-span-3">
                <div class="mb-5">
                    <h5 class="font-semibold text-lg dark:text-white-light">Change Password</h5>
                </div>
                <form method="POST" action="{% url 'change_password' %}" class="space-y-5">
                    {% csrf_token %}
                    <div class="mb-5">
                        <label for="old_password" class="form-label">Current Password</label>
                        <input id="old_password" name="old_password" type="password" class="form-input" placeholder="Enter Current Password" required />
                    </div>
                    <div class="mb-5">
                        <label for="new_password" class="form-label">New Password</label>
                        <input id="new_password" name="new_password" type="password" class="form-input" placeholder="Enter New Password" required />
                    </div>
                    <div class="mb-5">
                        <label for="confirm_password" class="form-label">Confirm New Password</label>
                        <input id="confirm_password" name="confirm_password" type="password" class="form-input" placeholder="Confirm New Password" required />
                    </div>
                    {% if messages %}
                    <div class="mb-5">
                        {% for message in messages %}
                        <div class="text-{% if message.tags == 'success' %}green{% else %}red{% endif %}-500">
                            {{ message }}
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}
                    <button type="submit" class="btn btn-primary">Update Password</button>
                </form>
            </div>
        </div>

    </div>
</div>

{% endblock %}